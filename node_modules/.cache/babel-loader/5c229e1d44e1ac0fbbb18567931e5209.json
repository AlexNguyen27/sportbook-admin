{"ast":null,"code":"var _jsxFileName = \"/home/thanh/booking-sport/sportbook-admin/src/components/pages/report/component/EditReportModal.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { TextField } from \"@material-ui/core\"; // COMPONENTS\n\nimport Button from \"@material-ui/core/Button\";\nimport { clearErrors, REPORT_STATUS_ARRAY } from \"../../../../utils/common\";\nimport TextFieldInputWithHeader from \"../../../custom/TextFieldInputWithheader\";\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Form } from \"reactstrap\";\nimport PageLoader from \"../../../custom/PageLoader\";\nimport DropdownV2 from \"../../../custom/DropdownV2\";\nimport { updateReport } from \"../../../../store/actions/report\";\n\nconst EditReportModal = ({\n  errors,\n  clearErrors,\n  modal,\n  setModal,\n  reportData,\n  updateReport\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    description: reportData ? reportData.description : \"\"\n  });\n  const [selectedStatusValue, setSelectedStatusValue] = useState(reportData ? reportData.status : \"\");\n  const {\n    description\n  } = formData;\n\n  const initFormData = () => {\n    setFormData({\n      description: reportData ? reportData.description : \"\"\n    });\n    setSelectedStatusValue(reportData ? reportData.status : \"\");\n  };\n\n  useEffect(() => {\n    initFormData();\n  }, [reportData]); // CLOSE MODAL ACTION\n\n  const closeModal = () => {\n    setModal(false);\n    clearErrors();\n    initFormData();\n  }; // HANDLE ON SUBMIT FROM ADD NEW GROUP\n\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    const {\n      reportedBy,\n      postId\n    } = reportData;\n    const {\n      description\n    } = formData;\n    updateReport(setLoading, reportedBy, postId, description, selectedStatusValue);\n  }; // Save on change input value\n\n\n  const onChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSelectReportStatus = selectedReport => {\n    setSelectedStatusValue(selectedReport);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    toggle: () => closeModal(),\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageLoader, {\n    loading: loading,\n    noPadding: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: () => closeModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Confirm report \", reportData && reportData.post.title), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-multiline-static\",\n    label: \"Comment\",\n    name: \"description\",\n    fullWidth: true,\n    value: description,\n    multiline: true,\n    rows: 4,\n    onChange: onChange,\n    variant: \"outlined\",\n    error: errors.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: \"12\",\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DropdownV2, {\n    fullWidth: true,\n    label: \"Status\",\n    value: selectedStatusValue,\n    options: REPORT_STATUS_ARRAY,\n    valueBasedOnProperty: \"name\",\n    displayProperty: \"value\",\n    onChange: categoryIndex => onSelectReportStatus(categoryIndex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    className: \"ml-2\",\n    onClick: () => closeModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Cancel\")))));\n};\n\nconst mapStateToProps = state => ({\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  clearErrors,\n  updateReport\n})(EditReportModal);","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/components/pages/report/component/EditReportModal.js"],"names":["React","useState","useEffect","connect","useDispatch","TextField","Button","clearErrors","REPORT_STATUS_ARRAY","TextFieldInputWithHeader","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Form","PageLoader","DropdownV2","updateReport","EditReportModal","errors","modal","setModal","reportData","loading","setLoading","formData","setFormData","description","selectedStatusValue","setSelectedStatusValue","status","initFormData","closeModal","onSubmit","e","preventDefault","reportedBy","postId","onChange","target","name","value","onSelectReportStatus","selectedReport","post","title","categoryIndex","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\n\nimport { TextField } from \"@material-ui/core\";\n// COMPONENTS\nimport Button from \"@material-ui/core/Button\";\nimport { clearErrors, REPORT_STATUS_ARRAY } from \"../../../../utils/common\";\nimport TextFieldInputWithHeader from \"../../../custom/TextFieldInputWithheader\";\n\nimport {\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n} from \"reactstrap\";\nimport PageLoader from \"../../../custom/PageLoader\";\nimport DropdownV2 from \"../../../custom/DropdownV2\";\nimport { updateReport } from \"../../../../store/actions/report\";\n\nconst EditReportModal = ({\n  errors,\n  clearErrors,\n  modal,\n  setModal,\n  reportData,\n  updateReport,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    description: reportData ? reportData.description : \"\",\n  });\n\n  const [selectedStatusValue, setSelectedStatusValue] = useState(\n    reportData ? reportData.status : \"\"\n  );\n  const { description } = formData;\n\n  const initFormData = () => {\n    setFormData({\n      description: reportData ? reportData.description : \"\",\n    });\n    setSelectedStatusValue(reportData ? reportData.status : \"\");\n  };\n  useEffect(() => {\n    initFormData();\n  }, [reportData]);\n\n  // CLOSE MODAL ACTION\n  const closeModal = () => {\n    setModal(false);\n    clearErrors();\n    initFormData();\n  };\n\n  // HANDLE ON SUBMIT FROM ADD NEW GROUP\n  const onSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const { reportedBy, postId } = reportData;\n    const { description } = formData;\n    updateReport(\n      setLoading,\n      reportedBy,\n      postId,\n      description,\n      selectedStatusValue\n    );\n  };\n\n  // Save on change input value\n  const onChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const onSelectReportStatus = (selectedReport) => {\n    setSelectedStatusValue(selectedReport);\n  };\n\n  return (\n    <Modal isOpen={modal} toggle={() => closeModal()} centered={true}>\n      <PageLoader loading={loading} noPadding>\n        <ModalHeader toggle={() => closeModal()}>\n          Confirm report {reportData && reportData.post.title}\n        </ModalHeader>\n        {/** MODAL BODY */}\n        <Form onSubmit={(e) => onSubmit(e)}>\n          <ModalBody>\n            <Row>\n              <Col xs=\"12\">\n                <TextField\n                  id=\"outlined-multiline-static\"\n                  label=\"Comment\"\n                  name=\"description\"\n                  fullWidth\n                  value={description}\n                  multiline\n                  rows={4}\n                  onChange={onChange}\n                  variant=\"outlined\"\n                  error={errors.description}\n                />\n              </Col>\n              <Col xs=\"12\" className=\"mt-3\">\n                <DropdownV2\n                  fullWidth\n                  label=\"Status\"\n                  value={selectedStatusValue}\n                  options={REPORT_STATUS_ARRAY}\n                  valueBasedOnProperty=\"name\"\n                  displayProperty=\"value\"\n                  onChange={(categoryIndex) =>\n                    onSelectReportStatus(categoryIndex)\n                  }\n                />\n              </Col>\n            </Row>\n          </ModalBody>\n\n          {/** MODAL FOOTER */}\n          <ModalFooter>\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              Save\n            </Button>\n            <Button\n              variant=\"contained\"\n              className=\"ml-2\"\n              onClick={() => closeModal()}\n            >\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Form>\n      </PageLoader>\n    </Modal>\n  );\n};\nconst mapStateToProps = (state) => ({\n  errors: state.errors,\n});\nexport default connect(mapStateToProps, { clearErrors, updateReport })(\n  EditReportModal\n);\n"]},"metadata":{},"sourceType":"module"}