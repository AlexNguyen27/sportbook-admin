{"ast":null,"code":"var _jsxFileName = \"/home/thanh/booking-sport/sportbook-admin/src/components/pages/auth/Signup.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport { Redirect, withRouter, matchPath } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button, Container } from \"@material-ui/core\"; // COMPONENT\n\nimport PageTitle from \"../../custom/PageTitle\";\nimport TextFieldInputWithHeader from \"../../custom/TextFieldInputWithheader\";\nimport Landing from \"../../layout/Landing\"; // ACTION\n\nimport { signUpUser } from \"../../../store/actions/auth\";\nimport { GET_ERRORS } from \"../../../store/actions/types\";\n\nconst Signup = ({\n  errors,\n  auth: {\n    isAuthenticated\n  },\n  history,\n  signUpUser\n}) => {\n  const dispatch = useDispatch(); // FORM DATA STATE\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const {\n    username,\n    password,\n    confirmPassword\n  } = formData; // const validateEmail = (email) => {\n  //   const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  //   return re.test(String(email).toLowerCase());\n  // };\n  // Click button Login\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const error = {};\n    console.log(\"forma data---------------------\", formData); // if (formData.role) {\n    //   delete formData.role;\n    // }\n\n    Object.keys(formData).map(key => {\n      // console.log(\"-------------------\", formData);\n      // console.log(key);\n      if (!formData[key] || formData[key] && formData[key].trim() === \"\") {\n        error[key] = \"This field is required\";\n      } // if (!error[key] && key === \"email\" && !validateEmail(formData[key])) {\n      //   error[key] = \"Email is invalid\";\n      // }\n\n    });\n\n    if (formData.password !== formData.confirmPassword) {\n      error.confirmPassword = \"Confirm password is wrong\";\n    } else {\n      if (error.confirmPassword) delete error.confirmPassword;\n    } // if (errors.message === \"Username is existing\") {\n    //   error.username = \"Username already exists!\";\n    // }\n    // if (errors.message === \"Email is existing\") {\n    //   error.email = \"Email already exists!\";\n    // }\n\n\n    dispatch({\n      type: GET_ERRORS,\n      errors: error\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      // console.log(formData);\n      const data = { ...formData\n      };\n      delete data.confirmPassword;\n      signUpUser(isAuthenticated, history, data);\n    }\n  }; // Save on change input value\n\n\n  const onChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Landing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Create an account\",\n    center: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    header: \"Username\",\n    name: \"username\",\n    className: \"mt-0\",\n    fullWidth: true,\n    value: username,\n    onChange: onChange,\n    error: errors.username,\n    placeholder: \"Enter Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    header: \"Password\",\n    name: \"password\",\n    placeholder: \"Enter Password\",\n    type: \"password\",\n    value: password,\n    error: errors.password,\n    className: \"mt-0\",\n    fullWidth: true,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    header: \"Confirm password\",\n    name: \"confirmPassword\",\n    placeholder: \"Enter Confirm password\",\n    type: \"password\",\n    value: confirmPassword,\n    error: errors.confirmPassword,\n    className: \"mt-0\",\n    fullWidth: true,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"mt-3 mr-2\",\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, \"REGISTER\"))))));\n};\n\nconst mapStateToProps = state => ({\n  errors: state.errors,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  signUpUser\n})(withRouter(Signup));","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/components/pages/auth/Signup.js"],"names":["React","Fragment","useState","useEffect","useDispatch","connect","Redirect","withRouter","matchPath","Grid","Button","Container","PageTitle","TextFieldInputWithHeader","Landing","signUpUser","GET_ERRORS","Signup","errors","auth","isAuthenticated","history","dispatch","formData","setFormData","username","password","confirmPassword","onSubmit","e","preventDefault","error","console","log","Object","keys","map","key","trim","type","JSON","stringify","data","onChange","target","name","value","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport { Redirect, withRouter, matchPath } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button, Container } from \"@material-ui/core\";\n\n// COMPONENT\nimport PageTitle from \"../../custom/PageTitle\";\nimport TextFieldInputWithHeader from \"../../custom/TextFieldInputWithheader\";\nimport Landing from \"../../layout/Landing\";\n\n// ACTION\nimport { signUpUser } from \"../../../store/actions/auth\";\nimport { GET_ERRORS } from \"../../../store/actions/types\";\nconst Signup = ({ errors, auth: { isAuthenticated }, history, signUpUser }) => {\n  const dispatch = useDispatch();\n  // FORM DATA STATE\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const { username, password, confirmPassword } = formData;\n\n  // const validateEmail = (email) => {\n  //   const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  //   return re.test(String(email).toLowerCase());\n  // };\n  // Click button Login\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const error = {};\n\n    console.log(\"forma data---------------------\", formData);\n    // if (formData.role) {\n    //   delete formData.role;\n    // }\n    Object.keys(formData).map((key) => {\n      // console.log(\"-------------------\", formData);\n      // console.log(key);\n      if (!formData[key] || (formData[key] && formData[key].trim() === \"\")) {\n        error[key] = \"This field is required\";\n      }\n\n      // if (!error[key] && key === \"email\" && !validateEmail(formData[key])) {\n      //   error[key] = \"Email is invalid\";\n      // }\n    });\n\n    if (formData.password !== formData.confirmPassword) {\n      error.confirmPassword = \"Confirm password is wrong\";\n    } else {\n      if (error.confirmPassword) delete error.confirmPassword;\n    }\n    // if (errors.message === \"Username is existing\") {\n    //   error.username = \"Username already exists!\";\n    // }\n    // if (errors.message === \"Email is existing\") {\n    //   error.email = \"Email already exists!\";\n    // }\n    dispatch({\n      type: GET_ERRORS,\n      errors: error,\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      // console.log(formData);\n      const data = { ...formData };\n      delete data.confirmPassword;\n      signUpUser(isAuthenticated, history, data);\n    }\n  };\n\n  // Save on change input value\n  const onChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <Fragment>\n      <Landing />\n      <Grid container justify=\"center\">\n        <Grid item xs={12} sm={4}>\n          <form onSubmit={(e) => onSubmit(e)}>\n            <PageTitle title=\"Create an account\" center=\"true\" />\n            <TextFieldInputWithHeader\n              header=\"Username\"\n              name=\"username\"\n              className=\"mt-0\"\n              fullWidth\n              value={username}\n              onChange={onChange}\n              error={errors.username}\n              placeholder=\"Enter Username\"\n            />\n            {/* <TextFieldInputWithHeader\n              header=\"Email\"\n              name=\"email\"\n              className=\"mt-0\"\n              fullWidth\n              value={email}\n              onChange={onChange}\n              error={errors.email}\n              placeholder=\"Enter Email\"\n            /> */}\n\n            <TextFieldInputWithHeader\n              header=\"Password\"\n              name=\"password\"\n              placeholder=\"Enter Password\"\n              type=\"password\"\n              value={password}\n              error={errors.password}\n              className=\"mt-0\"\n              fullWidth\n              onChange={onChange}\n            />\n\n            <TextFieldInputWithHeader\n              header=\"Confirm password\"\n              name=\"confirmPassword\"\n              placeholder=\"Enter Confirm password\"\n              type=\"password\"\n              value={confirmPassword}\n              error={errors.confirmPassword}\n              className=\"mt-0\"\n              fullWidth\n              onChange={onChange}\n            />\n            <div className=\"text-center\">\n              <Button\n                className=\"mt-3 mr-2\"\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n              >\n                REGISTER\n              </Button>\n            </div>\n          </form>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  errors: state.errors,\n  auth: state.auth,\n});\nexport default connect(mapStateToProps, { signUpUser })(withRouter(Signup));\n"]},"metadata":{},"sourceType":"module"}