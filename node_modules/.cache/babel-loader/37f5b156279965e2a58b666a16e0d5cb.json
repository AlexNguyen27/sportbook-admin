{"ast":null,"code":"var _jsxFileName = \"/home/thanh/booking-sport/sportbook-admin/src/components/custom/ProtectedRoute.js\";\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport NotFound from \"../layout/NotFound\";\n\nconst ProtectedRoute = ({\n  component: Component,\n  authorized,\n  auth: {\n    isAuthenticated,\n    isUser,\n    isAdmin\n  },\n  dispatch,\n  path,\n  ...rest\n}) => {\n  const teacherUnauthorized = [\"/users-list\", \"/edit-user/:userId\", \"/posts-list\", \"/reports-list\", \"/categories-list\"];\n\n  const page = props => {\n    if (isAuthenticated) {\n      if (isAdmin || isUser && !teacherUnauthorized.includes(path)) {\n        return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n          dispatch: dispatch,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 16\n          }\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(NotFound, {\n        alertText: \"Unauthorized\",\n        descriptionText: \"Sorry, you are not allowed to see this page\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: props => page(props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  })));\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps)(ProtectedRoute);","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/components/custom/ProtectedRoute.js"],"names":["React","Route","Redirect","connect","NotFound","ProtectedRoute","component","Component","authorized","auth","isAuthenticated","isUser","isAdmin","dispatch","path","rest","teacherUnauthorized","page","props","includes","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAEA,MAAMC,cAAc,GAAG,CAAC;AACtBC,EAAAA,SAAS,EAAEC,SADW;AAEtBC,EAAAA,UAFsB;AAGtBC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA,MAAnB;AAA2BC,IAAAA;AAA3B,GAHgB;AAItBC,EAAAA,QAJsB;AAKtBC,EAAAA,IALsB;AAMtB,KAAGC;AANmB,CAAD,KAOjB;AACJ,QAAMC,mBAAmB,GAAG,CAC1B,aAD0B,EAE1B,oBAF0B,EAG1B,aAH0B,EAI1B,eAJ0B,EAK1B,kBAL0B,CAA5B;;AAOA,QAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,QAAIR,eAAJ,EAAqB;AACnB,UAAIE,OAAO,IAAKD,MAAM,IAAI,CAACK,mBAAmB,CAACG,QAApB,CAA6BL,IAA7B,CAA3B,EAAgE;AAC9D,4BAAO,oBAAC,SAAD,oBAAeI,KAAf;AAAsB,UAAA,QAAQ,EAAEL,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;;AAED,0BACE,oBAAC,QAAD;AACE,QAAA,SAAS,EAAC,cADZ;AAEE,QAAA,eAAe,EAAC,6CAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAMD;;AACD,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAdD;;AAgBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,oBAAWE,IAAX;AAAiB,IAAA,MAAM,EAAGG,KAAD,IAAWD,IAAI,CAACC,KAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,CADF;AAKD,CApCD;;AAqCA,MAAME,eAAe,GAAIC,KAAD,KAAY;AAClCZ,EAAAA,IAAI,EAAEY,KAAK,CAACZ;AADsB,CAAZ,CAAxB;;AAIA,eAAeN,OAAO,CAACiB,eAAD,CAAP,CAAyBf,cAAzB,CAAf","sourcesContent":["import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport NotFound from \"../layout/NotFound\";\n\nconst ProtectedRoute = ({\n  component: Component,\n  authorized,\n  auth: { isAuthenticated, isUser, isAdmin },\n  dispatch,\n  path,\n  ...rest\n}) => {\n  const teacherUnauthorized = [\n    \"/users-list\",\n    \"/edit-user/:userId\",\n    \"/posts-list\",\n    \"/reports-list\",\n    \"/categories-list\",\n  ];\n  const page = (props) => {\n    if (isAuthenticated) {\n      if (isAdmin || (isUser && !teacherUnauthorized.includes(path))) {\n        return <Component {...props} dispatch={dispatch} />;\n      }\n\n      return (\n        <NotFound\n          alertText=\"Unauthorized\"\n          descriptionText=\"Sorry, you are not allowed to see this page\"\n        />\n      );\n    }\n    return <Redirect to=\"/login\" />;\n  };\n\n  return (\n    <div>\n      <Route {...rest} render={(props) => page(props)} />\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps)(ProtectedRoute);\n"]},"metadata":{},"sourceType":"module"}