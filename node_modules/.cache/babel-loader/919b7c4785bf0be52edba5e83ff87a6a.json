{"ast":null,"code":"var _jsxFileName = \"/home/thanh/booking-sport/sportbook-admin/src/components/pages/auth/Login.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { Redirect, withRouter, matchPath } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button, Container } from \"@material-ui/core\"; // COMPONENT\n\nimport PageTitle from \"../../custom/PageTitle\";\nimport TextFieldInputWithHeader from \"../../custom/TextFieldInputWithheader\";\nimport Landing from \"../../layout/Landing\"; // ACTION\n\nimport { loginUser } from \"../../../store/actions/auth\";\nimport { GET_ERRORS } from \"../../../store/actions/types\";\n\nconst Login = ({\n  errors,\n  history,\n  loginUser,\n  auth: {\n    isAuthenticated,\n    isAdmin\n  },\n  match\n}) => {\n  const dispatch = useDispatch(); // FORM DATA STATE\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const {\n    username,\n    password\n  } = formData; // Click button Login\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const error = {};\n    Object.keys(formData).map(key => {\n      // console.log(\"-------------------\", formData);\n      // console.log(key);\n      if (!formData[key] || formData[key] && formData[key].trim() === \"\") {\n        error[key] = \"This field is required\";\n      } // if (!error[key] && key === \"email\" && !validateEmail(formData[key])) {\n      //   error[key] = \"Email is invalid\";\n      // }\n\n    });\n    dispatch({\n      type: GET_ERRORS,\n      errors: error\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      const {\n        username,\n        password\n      } = formData;\n      loginUser({\n        username,\n        password\n      });\n    }\n  }; // Save on change input value\n\n\n  const onChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  if (isAuthenticated) {\n    if (isAdmin) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/users-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 14\n        }\n      });\n    }\n\n    if (match.path === \"/news-feed\") {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/news-feed\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/news-feed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Landing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    title: \"Login\",\n    center: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    header: \"Username\",\n    name: \"username\",\n    className: \"mt-0\",\n    fullWidth: true,\n    value: username,\n    onChange: onChange,\n    error: errors.username || errors.message,\n    placeholder: \"Enter Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    header: \"Password\",\n    name: \"password\",\n    placeholder: \"Enter Password\",\n    type: \"password\",\n    value: password,\n    error: errors.password || errors.message,\n    className: \"mt-0\",\n    fullWidth: true,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    spacing: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"mt-3\",\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Login\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"blue\",\n      cursor: \"pointer\"\n    },\n    className: \"mt-3 text-decoration-underline\",\n    onClick: () => history.push('reset-password'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"Forgot password?\")))));\n};\n\nconst mapStateToProps = state => ({\n  errors: state.errors,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  loginUser\n})(withRouter(Login));","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/components/pages/auth/Login.js"],"names":["React","Fragment","useState","useEffect","connect","useDispatch","Redirect","withRouter","matchPath","Grid","Button","Container","PageTitle","TextFieldInputWithHeader","Landing","loginUser","GET_ERRORS","Login","errors","history","auth","isAuthenticated","isAdmin","match","dispatch","formData","setFormData","username","password","onSubmit","e","preventDefault","error","Object","keys","map","key","trim","type","JSON","stringify","onChange","target","name","value","path","message","color","cursor","push","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { Redirect, withRouter, matchPath } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button, Container } from \"@material-ui/core\";\n\n// COMPONENT\nimport PageTitle from \"../../custom/PageTitle\";\nimport TextFieldInputWithHeader from \"../../custom/TextFieldInputWithheader\";\nimport Landing from \"../../layout/Landing\";\n\n// ACTION\nimport { loginUser } from \"../../../store/actions/auth\";\nimport { GET_ERRORS } from \"../../../store/actions/types\";\nconst Login = ({\n  errors,\n  history,\n  loginUser,\n  auth: { isAuthenticated, isAdmin },\n  match,\n}) => {\n  const dispatch = useDispatch();\n  // FORM DATA STATE\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const { username, password } = formData;\n\n  // Click button Login\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const error = {};\n\n    Object.keys(formData).map((key) => {\n      // console.log(\"-------------------\", formData);\n      // console.log(key);\n      if (!formData[key] || (formData[key] && formData[key].trim() === \"\")) {\n        error[key] = \"This field is required\";\n      }\n\n      // if (!error[key] && key === \"email\" && !validateEmail(formData[key])) {\n      //   error[key] = \"Email is invalid\";\n      // }\n    });\n\n    dispatch({\n      type: GET_ERRORS,\n      errors: error,\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      const { username, password } = formData;\n      loginUser({ username, password });\n    }\n  };\n\n  // Save on change input value\n  const onChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  if (isAuthenticated) {\n    if (isAdmin) {\n      return <Redirect to=\"/users-list\" />;\n    }\n    if (match.path === \"/news-feed\") {\n      return <Redirect to=\"/news-feed\" />;\n    }\n    return <Redirect to=\"/news-feed\" />;\n  }\n\n  return (\n    <Fragment>\n      <Landing />\n      <Grid container justify=\"center\">\n        <Grid item xs={12} sm={4}>\n          <form onSubmit={(e) => onSubmit(e)}>\n            <PageTitle title=\"Login\" center=\"true\" />\n            <TextFieldInputWithHeader\n              header=\"Username\"\n              name=\"username\"\n              className=\"mt-0\"\n              fullWidth\n              value={username}\n              onChange={onChange}\n              error={errors.username || errors.message}\n              placeholder=\"Enter Username\"\n            />\n\n            <TextFieldInputWithHeader\n              header=\"Password\"\n              name=\"password\"\n              placeholder=\"Enter Password\"\n              type=\"password\"\n              value={password}\n              error={errors.password || errors.message}\n              className=\"mt-0\"\n              fullWidth\n              onChange={onChange}\n            />\n            <Grid container justify=\"center\" spacing={4}>\n              <Grid item>\n                <Button\n                  className=\"mt-3\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  type=\"submit\"\n                >\n                  Login\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n          <div className=\"text-center\">\n            <p\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              className=\"mt-3 text-decoration-underline\"\n              onClick={() => history.push('reset-password')}\n            >\n              Forgot password?\n            </p>\n          </div>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  errors: state.errors,\n  auth: state.auth,\n});\nexport default connect(mapStateToProps, { loginUser })(withRouter(Login));\n"]},"metadata":{},"sourceType":"module"}