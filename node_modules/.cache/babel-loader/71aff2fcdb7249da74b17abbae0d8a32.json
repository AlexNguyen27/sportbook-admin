{"ast":null,"code":"import { GET_USER_PROFILE, UNAUTHENTICATE, GET_FRIEND_PROFILE, FOLLOW_UNFOLLOW, LIKE_REACTION, DELETE_POST } from \"../actions/types\";\nconst initialState = {};\nexport default function (state = initialState, action) {\n  const {\n    type,\n    user_profile,\n    friend_profile\n  } = action;\n\n  switch (type) {\n    case GET_USER_PROFILE:\n      return { ...state,\n        user_profile\n      };\n\n    case GET_FRIEND_PROFILE:\n      return { ...state,\n        friend_profile\n      };\n\n    case DELETE_POST:\n      const {\n        selectedId\n      } = action;\n      const newPosts = state.user_profile.posts.filter(item => item.id !== selectedId);\n      return { ...state,\n        user_profile: { ...state.user_profile,\n          posts: newPosts\n        }\n      };\n\n    case FOLLOW_UNFOLLOW:\n      const {\n        followed\n      } = state.user_profile;\n      const {\n        isFollow,\n        toUserId\n      } = action;\n      let newFollowArr = followed; // add to arr\n\n      if (isFollow) {\n        // if new follow action will send new follow object\n        // object has toUserId, fromUserId\n        const {\n          newFollowed\n        } = action;\n        newFollowArr.push(newFollowed);\n      } else {\n        // remove follow\n        newFollowArr = followed.filter(item => item.toUserId !== toUserId);\n\n        if (!newFollowArr) {\n          newFollowArr = [];\n        }\n      }\n\n      return { ...state,\n        user_profile: { ...state.user_profile,\n          followed: [...newFollowArr]\n        }\n      };\n\n    case LIKE_REACTION:\n      const {\n        user_profile: {\n          userFavoritePosts\n        }\n      } = state;\n      const {\n        postId,\n        isLike\n      } = action;\n      let newFavoritePosts = userFavoritePosts;\n\n      if (isLike) {\n        const {\n          newPost\n        } = action;\n        newFavoritePosts.push(newPost);\n      } else {\n        // remove follow\n        newFavoritePosts = userFavoritePosts.filter(item => item.id !== postId);\n\n        if (!newFavoritePosts) {\n          newFavoritePosts = [];\n        }\n      }\n\n      return { ...state,\n        user_profile: { ...state.user_profile,\n          userFavoritePosts: [...newFavoritePosts]\n        }\n      };\n\n    case UNAUTHENTICATE:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/store/reducers/user_profile.js"],"names":["GET_USER_PROFILE","UNAUTHENTICATE","GET_FRIEND_PROFILE","FOLLOW_UNFOLLOW","LIKE_REACTION","DELETE_POST","initialState","state","action","type","user_profile","friend_profile","selectedId","newPosts","posts","filter","item","id","followed","isFollow","toUserId","newFollowArr","newFollowed","push","userFavoritePosts","postId","isLike","newFavoritePosts","newPost"],"mappings":"AAAA,SACEA,gBADF,EAEEC,cAFF,EAGEC,kBAHF,EAIEC,eAJF,EAKEC,aALF,EAMEC,WANF,QAOO,kBAPP;AASA,MAAMC,YAAY,GAAG,EAArB;AAEA,eAAe,UAAUC,KAAK,GAAGD,YAAlB,EAAgCE,MAAhC,EAAwC;AACrD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,YAAR;AAAsBC,IAAAA;AAAtB,MAAyCH,MAA/C;;AACA,UAAQC,IAAR;AACE,SAAKT,gBAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELG,QAAAA;AAFK,OAAP;;AAIF,SAAKR,kBAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELI,QAAAA;AAFK,OAAP;;AAIF,SAAKN,WAAL;AACE,YAAM;AAAEO,QAAAA;AAAF,UAAiBJ,MAAvB;AACA,YAAMK,QAAQ,GAAGN,KAAK,CAACG,YAAN,CAAmBI,KAAnB,CAAyBC,MAAzB,CAAgCC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,UAApD,CAAjB;AACA,aAAO,EACL,GAAGL,KADE;AAELG,QAAAA,YAAY,EAAE,EACZ,GAAGH,KAAK,CAACG,YADG;AAEZI,UAAAA,KAAK,EAAED;AAFK;AAFT,OAAP;;AAOF,SAAKV,eAAL;AACE,YAAM;AAAEe,QAAAA;AAAF,UAAeX,KAAK,CAACG,YAA3B;AACA,YAAM;AAAES,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAyBZ,MAA/B;AACA,UAAIa,YAAY,GAAGH,QAAnB,CAHF,CAIE;;AACA,UAAIC,QAAJ,EAAc;AACZ;AACA;AACA,cAAM;AAAEG,UAAAA;AAAF,YAAkBd,MAAxB;AACAa,QAAAA,YAAY,CAACE,IAAb,CAAkBD,WAAlB;AACD,OALD,MAKO;AACL;AACAD,QAAAA,YAAY,GAAGH,QAAQ,CAACH,MAAT,CAAiBC,IAAD,IAAUA,IAAI,CAACI,QAAL,KAAkBA,QAA5C,CAAf;;AACA,YAAI,CAACC,YAAL,EAAmB;AACjBA,UAAAA,YAAY,GAAG,EAAf;AACD;AACF;;AACD,aAAO,EACL,GAAGd,KADE;AAELG,QAAAA,YAAY,EAAE,EACZ,GAAGH,KAAK,CAACG,YADG;AAEZQ,UAAAA,QAAQ,EAAE,CAAC,GAAGG,YAAJ;AAFE;AAFT,OAAP;;AAOF,SAAKjB,aAAL;AACE,YAAM;AACJM,QAAAA,YAAY,EAAE;AAAEc,UAAAA;AAAF;AADV,UAEFjB,KAFJ;AAGA,YAAM;AAAEkB,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAqBlB,MAA3B;AAEA,UAAImB,gBAAgB,GAAGH,iBAAvB;;AAEA,UAAIE,MAAJ,EAAY;AACV,cAAM;AAAEE,UAAAA;AAAF,YAAcpB,MAApB;AACAmB,QAAAA,gBAAgB,CAACJ,IAAjB,CAAsBK,OAAtB;AACD,OAHD,MAGO;AACL;AACAD,QAAAA,gBAAgB,GAAGH,iBAAiB,CAACT,MAAlB,CAChBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYQ,MADL,CAAnB;;AAGA,YAAI,CAACE,gBAAL,EAAuB;AACrBA,UAAAA,gBAAgB,GAAG,EAAnB;AACD;AACF;;AAED,aAAO,EACL,GAAGpB,KADE;AAELG,QAAAA,YAAY,EAAE,EACZ,GAAGH,KAAK,CAACG,YADG;AAEZc,UAAAA,iBAAiB,EAAE,CAAC,GAAGG,gBAAJ;AAFP;AAFT,OAAP;;AAOF,SAAK1B,cAAL;AACE,aAAOK,YAAP;;AACF;AACE,aAAOC,KAAP;AA5EJ;AA8ED","sourcesContent":["import {\n  GET_USER_PROFILE,\n  UNAUTHENTICATE,\n  GET_FRIEND_PROFILE,\n  FOLLOW_UNFOLLOW,\n  LIKE_REACTION,\n  DELETE_POST,\n} from \"../actions/types\";\n\nconst initialState = {};\n\nexport default function (state = initialState, action) {\n  const { type, user_profile, friend_profile } = action;\n  switch (type) {\n    case GET_USER_PROFILE:\n      return {\n        ...state,\n        user_profile,\n      };\n    case GET_FRIEND_PROFILE:\n      return {\n        ...state,\n        friend_profile,\n      };\n    case DELETE_POST: \n      const { selectedId } = action;\n      const newPosts = state.user_profile.posts.filter(item => item.id !== selectedId);\n      return {\n        ...state,\n        user_profile: {\n          ...state.user_profile,\n          posts: newPosts\n        }\n      }\n    case FOLLOW_UNFOLLOW:\n      const { followed } = state.user_profile;\n      const { isFollow, toUserId } = action;\n      let newFollowArr = followed;\n      // add to arr\n      if (isFollow) {\n        // if new follow action will send new follow object\n        // object has toUserId, fromUserId\n        const { newFollowed } = action;\n        newFollowArr.push(newFollowed);\n      } else {\n        // remove follow\n        newFollowArr = followed.filter((item) => item.toUserId !== toUserId);\n        if (!newFollowArr) {\n          newFollowArr = [];\n        }\n      }\n      return {\n        ...state,\n        user_profile: {\n          ...state.user_profile,\n          followed: [...newFollowArr],\n        },\n      };\n    case LIKE_REACTION:\n      const {\n        user_profile: { userFavoritePosts },\n      } = state;\n      const { postId, isLike } = action;\n\n      let newFavoritePosts = userFavoritePosts;\n\n      if (isLike) {\n        const { newPost } = action;\n        newFavoritePosts.push(newPost);\n      } else {\n        // remove follow\n        newFavoritePosts = userFavoritePosts.filter(\n          (item) => item.id !== postId\n        );\n        if (!newFavoritePosts) {\n          newFavoritePosts = [];\n        }\n      }\n      \n      return {\n        ...state,\n        user_profile: {\n          ...state.user_profile,\n          userFavoritePosts: [...newFavoritePosts],\n        },\n      };\n    case UNAUTHENTICATE:\n      return initialState;\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}