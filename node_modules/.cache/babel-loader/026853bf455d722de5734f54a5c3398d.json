{"ast":null,"code":"var _jsxFileName = \"/home/thanh/booking-sport/sportbook-admin/src/components/pages/post/component/comment/CommentsList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport moment from \"moment\";\nimport { makeStyles, formatMs } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport { useHistory } from \"react-router-dom\";\nimport { Paper, Typography, Divider, Grid, IconButton } from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextFieldInputWithHeader from \"../../../../custom/TextFieldInputWithheader\";\nimport { GET_ERRORS, BASE_IMAGE_URL } from \"../../../../../store/actions/types\";\nimport { addComment, deleteComment } from \"../../../../../store/actions/comment\";\nimport Swal from \"sweetalert2\";\nimport EditCommentModal from \"./EditCommentModal\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nconst options = [\"Edit\", \"Delete\"];\nconst ITEM_HEIGHT = 48;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\"\n  },\n  formRoot: {\n    \"& .MuiTextField-root\": {// margin: theme.spacing(1),\n    }\n  },\n  btnDelete: {\n    fontSize: \"12px !important\",\n    padding: 0,\n    marginTop: \"5px\",\n    marginBottom: \"10px\",\n    marginRight: \"10px\",\n    textDecoration: \"underline\"\n  },\n  iconSize: {\n    fontSize: \"16px !important\",\n    marginRight: \"2px\"\n  },\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  }\n}));\n\nconst CommentsList = ({\n  comments,\n  errors,\n  addComment,\n  postId,\n  authId,\n  deleteComment\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [comment, setComment] = useState(\"\");\n  const [replyComment, setReplyComment] = useState(\"\");\n  const [onEditModel, setOnEditModal] = useState();\n  const [commentData, setCommentData] = useState();\n  const [isReplyId, setIsReplyId] = useState();\n\n  const onChange = e => {\n    setComment(e.target.value);\n  };\n\n  const onChangeReplyComment = e => {\n    setReplyComment(e.target.value);\n  };\n\n  const handleOnDelete = () => {\n    setAnchorEl(null);\n    Swal.fire({\n      title: `Are you sure to delete this ?`,\n      text: \"You won't be able to revert this!\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\"\n    }).then(result => {\n      if (result.value) {\n        setLoading(true);\n        deleteComment(setLoading, commentData.id);\n      }\n    });\n  };\n\n  const handleOnEditComment = () => {\n    setAnchorEl(null);\n    setOnEditModal(true);\n  };\n\n  const handleOnReplyComment = commentData => {\n    setIsReplyId(commentData.id);\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event, commentData) => {\n    setCommentData(commentData);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const renderTree = nodes => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.small,\n    onClick: () => history.push(`/user-profile/${nodes.userId}`),\n    style: {\n      cursor: \"pointer\"\n    },\n    alt: \"Remy Sharp\",\n    src: nodes.user.imageUrl || BASE_IMAGE_URL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    style: {\n      width: \"80%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    component: \"span\",\n    style: {\n      fontWeight: \"bold\",\n      color: \"#4d4c7d\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, nodes.user.firstName && nodes.user.lastName ? nodes.user.firstName + \" \" + nodes.user.lastName : nodes.user.username)), nodes.userId === authId && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    \"aria-controls\": \"long-menu\",\n    \"aria-haspopup\": \"true\",\n    className: \"p-0\",\n    onClick: e => handleClick(e, nodes),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    style: {\n      width: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"long-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: open,\n    onClose: () => setAnchorEl(null),\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5,\n        width: \"20ch\",\n        padding: \"0px\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    key: \"Edit\",\n    onClick: () => {\n      handleOnEditComment(nodes);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(MenuItem, {\n    key: \"Delete\",\n    onClick: () => {\n      handleOnDelete();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, \"Delete\"))))), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    component: \"span\",\n    className: \"pt-2 pb-2\",\n    style: {\n      color: \"#393e46\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TreeItem, {\n    key: nodes.id,\n    nodeId: nodes.id,\n    label: nodes.comment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, Array.isArray(nodes.children) ? nodes.children.map(node => renderTree(node)) : null)), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"detete\",\n    className: classes.btnDelete,\n    onClick: () => handleOnReplyComment(nodes),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, \"Reply\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    style: {\n      marginTop: \"4px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"caption\",\n    style: {\n      color: \"#393e46\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mr-2 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, \"\\u2660\"), moment(nodes.updatedAt).format(\"DD/MM/YYYY HH:MM:ss\")))), isReplyId === nodes.id && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => onSubmitReplyComment(e),\n    className: classes.formRoot,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    id: \"outlined-multiline-flexible\",\n    name: \"comment\",\n    label: \"Enter your reply comment\",\n    fullWidth: true,\n    variant: \"outlined\",\n    value: replyComment,\n    onChange: onChangeReplyComment,\n    error: errors.replyComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }))))));\n\n  const formatData = (comments = []) => {\n    const list = comments;\n    const map = {};\n    const roots = [];\n    list.forEach(comment => {\n      const node = comment;\n      node.children = false;\n      map[node.id] = node;\n    }); // let indexChar = 0;\n\n    list.forEach(comment => {\n      const node = comment;\n\n      if (node.parentId) {\n        const parent = map[node.parentId];\n\n        if (parent) {\n          if (parent && parent.children) {\n            // node.no = `${latestNo}.${parent.children.length + 1}`;\n            parent.children = [...parent.children, node];\n          } else {\n            // node.no = `${latestNo}.${1}`;\n            parent.children = [node];\n          }\n        }\n      } else {\n        // node.no = String.fromCharCode(indexChar + 65);\n        // indexChar += 1;\n        roots.push(node);\n      }\n    });\n    return roots;\n  };\n\n  const [loading, setLoading] = useState(false);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    let error = {};\n\n    if (comment.trim() === \"\") {\n      error.comment = \"Enter your comment!\";\n    }\n\n    dispatch({\n      type: GET_ERRORS,\n      errors: error\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      setLoading(true);\n      addComment(setLoading, comment, postId);\n    }\n\n    setComment(\"\");\n  };\n\n  const onSubmitReplyComment = e => {\n    e.preventDefault();\n    let error = {};\n\n    if (replyComment.trim() === \"\") {\n      error.replyComment = \"Enter your comment!\";\n    }\n\n    dispatch({\n      type: GET_ERRORS,\n      errors: error\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      setLoading(true);\n      addComment(setLoading, replyComment, postId, isReplyId);\n    }\n\n    setReplyComment(\"\");\n  };\n\n  const formatedComment = formatData(comments);\n  const idComments = formatedComment.map(item => item.children && item.children.length > 0 && item.id);\n  return /*#__PURE__*/React.createElement(TreeView, {\n    className: classes.root,\n    defaultCollapseIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 28\n      }\n    }),\n    defaultExpanded: [...idComments].filter(Boolean),\n    defaultExpandIcon: /*#__PURE__*/React.createElement(ChevronRightIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 26\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 5\n    }\n  }, formatedComment.map(item => renderTree(item)), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => onSubmit(e),\n    className: classes.formRoot,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextFieldInputWithHeader, {\n    id: \"outlined-multiline-flexible\",\n    name: \"comment\",\n    label: \"Enter your Comment\",\n    fullWidth: true,\n    variant: \"outlined\",\n    value: comment,\n    onChange: onChange,\n    error: errors.comment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(EditCommentModal, {\n    modal: onEditModel,\n    setModal: setOnEditModal,\n    commentData: commentData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst mapStateToProps = state => ({\n  comments: state.post.selected_post.comments,\n  errors: state.errors,\n  authId: state.auth.user.id\n});\n\nexport default connect(mapStateToProps, {\n  addComment,\n  deleteComment\n})(CommentsList);","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/components/pages/post/component/comment/CommentsList.js"],"names":["React","useEffect","useState","connect","useDispatch","moment","makeStyles","formatMs","TreeView","ExpandMoreIcon","ChevronRightIcon","TreeItem","useHistory","Paper","Typography","Divider","Grid","IconButton","Avatar","TextFieldInputWithHeader","GET_ERRORS","BASE_IMAGE_URL","addComment","deleteComment","Swal","EditCommentModal","Menu","MenuItem","MoreVertIcon","options","ITEM_HEIGHT","useStyles","theme","root","flexGrow","width","formRoot","btnDelete","fontSize","padding","marginTop","marginBottom","marginRight","textDecoration","iconSize","small","spacing","height","CommentsList","comments","errors","postId","authId","classes","dispatch","history","comment","setComment","replyComment","setReplyComment","onEditModel","setOnEditModal","commentData","setCommentData","isReplyId","setIsReplyId","onChange","e","target","value","onChangeReplyComment","handleOnDelete","setAnchorEl","fire","title","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","setLoading","id","handleOnEditComment","handleOnReplyComment","anchorEl","open","Boolean","handleClick","event","currentTarget","renderTree","nodes","push","userId","cursor","user","imageUrl","fontWeight","color","firstName","lastName","username","style","maxHeight","Array","isArray","children","map","node","updatedAt","format","onSubmitReplyComment","formatData","list","roots","forEach","parentId","parent","loading","onSubmit","preventDefault","error","trim","JSON","stringify","formatedComment","idComments","item","length","filter","mapStateToProps","state","post","selected_post","auth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport moment from \"moment\";\nimport { makeStyles, formatMs } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Paper,\n  Typography,\n  Divider,\n  Grid,\n  IconButton,\n} from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextFieldInputWithHeader from \"../../../../custom/TextFieldInputWithheader\";\nimport { GET_ERRORS, BASE_IMAGE_URL } from \"../../../../../store/actions/types\";\nimport {\n  addComment,\n  deleteComment,\n} from \"../../../../../store/actions/comment\";\nimport Swal from \"sweetalert2\";\nimport EditCommentModal from \"./EditCommentModal\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n\nconst options = [\"Edit\", \"Delete\"];\nconst ITEM_HEIGHT = 48;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n \n  },\n  formRoot: {\n    \"& .MuiTextField-root\": {\n      // margin: theme.spacing(1),\n    },\n  },\n  btnDelete: {\n    fontSize: \"12px !important\",\n    padding: 0,\n    marginTop: \"5px\",\n    marginBottom: \"10px\",\n    marginRight: \"10px\",\n    textDecoration: \"underline\",\n  },\n  iconSize: {\n    fontSize: \"16px !important\",\n    marginRight: \"2px\",\n  },\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n  },\n}));\n\nconst CommentsList = ({\n  comments,\n  errors,\n  addComment,\n  postId,\n  authId,\n  deleteComment,\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [comment, setComment] = useState(\"\");\n  const [replyComment, setReplyComment] = useState(\"\");\n  const [onEditModel, setOnEditModal] = useState();\n  const [commentData, setCommentData] = useState();\n  const [isReplyId, setIsReplyId] = useState();\n\n  const onChange = (e) => {\n    setComment(e.target.value);\n  };\n\n  const onChangeReplyComment = (e) => {\n    setReplyComment(e.target.value);\n  };\n\n  const handleOnDelete = () => {\n    setAnchorEl(null);\n    Swal.fire({\n      title: `Are you sure to delete this ?`,\n      text: \"You won't be able to revert this!\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.value) {\n        setLoading(true);\n        deleteComment(setLoading, commentData.id);\n      }\n    });\n  };\n\n  const handleOnEditComment = () => {\n    setAnchorEl(null);\n    setOnEditModal(true);\n  };\n\n  const handleOnReplyComment = (commentData) => {\n    setIsReplyId(commentData.id);\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event, commentData) => {\n    setCommentData(commentData);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const renderTree = (nodes) => (\n    <>\n      <Grid container spacing={1} >\n        <Grid item>\n          <Avatar\n            className={classes.small}\n            onClick={() => history.push(`/user-profile/${nodes.userId}`)}\n            style={{ cursor: \"pointer\" }}\n            alt=\"Remy Sharp\"\n            src={nodes.user.imageUrl || BASE_IMAGE_URL}\n          />\n        </Grid>\n        <Grid item style={{ width: \"80%\" }}>\n          <Grid container justify=\"flex-start\">\n            <Grid item>\n              <Typography\n                variant=\"body1\"\n                component=\"span\"\n                style={{ fontWeight: \"bold\", color: \"#4d4c7d\" }}\n              >\n                {nodes.user.firstName && nodes.user.lastName\n                  ? nodes.user.firstName + \" \" + nodes.user.lastName\n                  : nodes.user.username}\n              </Typography>\n            </Grid>\n            {nodes.userId === authId && (\n              <Grid item>\n                <div>\n                  <IconButton\n                    aria-label=\"more\"\n                    aria-controls=\"long-menu\"\n                    aria-haspopup=\"true\"\n                    className=\"p-0\"\n                    onClick={(e) => handleClick(e, nodes)}\n                  >\n                    <MoreVertIcon style={{ width: \"20px\" }} />\n                  </IconButton>\n                  <Menu\n                    id=\"long-menu\"\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={open}\n                    onClose={() => setAnchorEl(null)}\n                    PaperProps={{\n                      style: {\n                        maxHeight: ITEM_HEIGHT * 4.5,\n                        width: \"20ch\",\n                        padding: \"0px\",\n                      },\n                    }}\n                  >\n                    <MenuItem\n                      key=\"Edit\"\n                      onClick={() => {\n                        handleOnEditComment(nodes);\n                      }}\n                    >\n                      Edit\n                    </MenuItem>\n                    <MenuItem\n                      key=\"Delete\"\n                      onClick={() => {\n                        handleOnDelete();\n                      }}\n                    >\n                      Delete\n                    </MenuItem>\n                  </Menu>\n                </div>\n              </Grid>\n            )}\n          </Grid>\n\n          <Typography\n            variant=\"body1\"\n            component=\"span\"\n            className=\"pt-2 pb-2\"\n            style={{ color: \"#393e46\" }}\n          >\n            <TreeItem key={nodes.id} nodeId={nodes.id} label={nodes.comment}>\n              {Array.isArray(nodes.children)\n                ? nodes.children.map((node) => renderTree(node))\n                : null}\n            </TreeItem>\n          </Typography>\n          <Grid container justify=\"flex-start\">\n            <Grid item>\n              <IconButton\n                aria-label=\"detete\"\n                className={classes.btnDelete}\n                onClick={() => handleOnReplyComment(nodes)}\n              >\n                Reply\n              </IconButton>\n            </Grid>\n            <Grid item style={{ marginTop: \"4px\" }}>\n              <Typography variant=\"caption\" style={{ color: \"#393e46\" }}>\n                <span className=\"mr-2 mt-2\">&spades;</span>\n                {moment(nodes.updatedAt).format(\"DD/MM/YYYY HH:MM:ss\")}\n              </Typography>\n            </Grid>\n          </Grid>\n\n          {isReplyId === nodes.id && (\n            <Grid item xs={12} className=\"mb-3\">\n              <form\n                onSubmit={(e) => onSubmitReplyComment(e)}\n                className={classes.formRoot}\n                autoComplete=\"off\"\n              >\n                <TextFieldInputWithHeader\n                  id=\"outlined-multiline-flexible\"\n                  name=\"comment\"\n                  label=\"Enter your reply comment\"\n                  fullWidth\n                  variant=\"outlined\"\n                  value={replyComment}\n                  onChange={onChangeReplyComment}\n                  error={errors.replyComment}\n                />\n              </form>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </>\n  );\n\n  const formatData = (comments = []) => {\n    const list = comments;\n    const map = {};\n    const roots = [];\n\n    list.forEach((comment) => {\n      const node = comment;\n      node.children = false;\n      map[node.id] = node;\n    });\n\n    // let indexChar = 0;\n    list.forEach((comment) => {\n      const node = comment;\n      if (node.parentId) {\n        const parent = map[node.parentId];\n        if (parent) {\n          if (parent && parent.children) {\n            // node.no = `${latestNo}.${parent.children.length + 1}`;\n            parent.children = [...parent.children, node];\n          } else {\n            // node.no = `${latestNo}.${1}`;\n            parent.children = [node];\n          }\n        }\n      } else {\n        // node.no = String.fromCharCode(indexChar + 65);\n        // indexChar += 1;\n        roots.push(node);\n      }\n    });\n    return roots;\n  };\n\n  const [loading, setLoading] = useState(false);\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    let error = {};\n    if (comment.trim() === \"\") {\n      error.comment = \"Enter your comment!\";\n    }\n\n    dispatch({\n      type: GET_ERRORS,\n      errors: error,\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      setLoading(true);\n      addComment(setLoading, comment, postId);\n    }\n    setComment(\"\");\n  };\n\n  const onSubmitReplyComment = (e) => {\n    e.preventDefault();\n\n    let error = {};\n    if (replyComment.trim() === \"\") {\n      error.replyComment = \"Enter your comment!\";\n    }\n\n    dispatch({\n      type: GET_ERRORS,\n      errors: error,\n    });\n\n    if (JSON.stringify(error) === \"{}\") {\n      setLoading(true);\n      addComment(setLoading, replyComment, postId, isReplyId);\n    }\n    setReplyComment(\"\");\n  };\n\n  const formatedComment = formatData(comments);\n\n  const idComments = formatedComment.map(\n    (item) => item.children && item.children.length > 0 && item.id\n  );\n  return (\n    <TreeView\n      className={classes.root}\n      defaultCollapseIcon={<ExpandMoreIcon />}\n      defaultExpanded={[...idComments].filter(Boolean)}\n      defaultExpandIcon={<ChevronRightIcon />}\n    >\n      {formatedComment.map((item) => renderTree(item))}\n\n      <Grid container className=\"mb-3\">\n        <Grid item xs={12}>\n          <form\n            onSubmit={(e) => onSubmit(e)}\n            className={classes.formRoot}\n            autoComplete=\"off\"\n          >\n            <TextFieldInputWithHeader\n              id=\"outlined-multiline-flexible\"\n              name=\"comment\"\n              label=\"Enter your Comment\"\n              fullWidth\n              variant=\"outlined\"\n              value={comment}\n              onChange={onChange}\n              error={errors.comment}\n            />\n          </form>\n        </Grid>\n      </Grid>\n      <EditCommentModal\n        modal={onEditModel}\n        setModal={setOnEditModal}\n        commentData={commentData}\n      />\n    </TreeView>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  comments: state.post.selected_post.comments,\n  errors: state.errors,\n  authId: state.auth.user.id,\n});\nexport default connect(mapStateToProps, { addComment, deleteComment })(\n  CommentsList\n);\n"]},"metadata":{},"sourceType":"module"}