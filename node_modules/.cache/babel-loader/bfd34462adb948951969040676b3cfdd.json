{"ast":null,"code":"import { AUTHENTICATE, UNAUTHENTICATE, EDIT_USER_INFO, GET_GITHUB_AVATAR //   AUTHENTICATE_TEACHER,\n} from \"../actions/types\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nconst initialState = {\n  isAuthenticated: false,\n  isUser: false,\n  isAdmin: false,\n  token: null,\n  user: {}\n};\nexport default function (state = initialState, action) {\n  const {\n    type,\n    user,\n    token\n  } = action;\n\n  switch (type) {\n    case AUTHENTICATE:\n      //Set Token to Auth header\n      setAuthToken(token); //Save Token to Local Storage\n\n      localStorage.setItem(\"token\", token);\n      const {\n        isAdmin,\n        isUser,\n        userInfo\n      } = user;\n      return {\n        isAuthenticated: true,\n        isUser,\n        isAdmin,\n        token,\n        user: userInfo\n      };\n\n    case EDIT_USER_INFO:\n      const {\n        newUser\n      } = action;\n      return { ...state,\n        user: { ...state.user,\n          ...newUser\n        }\n      };\n\n    case GET_GITHUB_AVATAR:\n      return { ...state,\n        user: { ...state.user,\n          imageUrl: action.imageUrl\n        }\n      };\n\n    case UNAUTHENTICATE:\n      // Remove Token in Auth header\n      setAuthToken(false); // Remove token from local storage\n\n      localStorage.removeItem(\"token\");\n      return initialState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/store/reducers/auth.js"],"names":["AUTHENTICATE","UNAUTHENTICATE","EDIT_USER_INFO","GET_GITHUB_AVATAR","setAuthToken","initialState","isAuthenticated","isUser","isAdmin","token","user","state","action","type","localStorage","setItem","userInfo","newUser","imageUrl","removeItem"],"mappings":"AAAA,SACEA,YADF,EAEEC,cAFF,EAGEC,cAHF,EAIEC,iBAJF,CAKE;AALF,OAMO,kBANP;AAOA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,eAAe,EAAE,KADE;AAEnBC,EAAAA,MAAM,EAAE,KAFW;AAGnBC,EAAAA,OAAO,EAAE,KAHU;AAInBC,EAAAA,KAAK,EAAE,IAJY;AAKnBC,EAAAA,IAAI,EAAE;AALa,CAArB;AAQA,eAAe,UAAUC,KAAK,GAAGN,YAAlB,EAAgCO,MAAhC,EAAwC;AACrD,QAAM;AAAEC,IAAAA,IAAF;AAAQH,IAAAA,IAAR;AAAcD,IAAAA;AAAd,MAAwBG,MAA9B;;AACA,UAAQC,IAAR;AACE,SAAKb,YAAL;AACE;AACAI,MAAAA,YAAY,CAACK,KAAD,CAAZ,CAFF,CAGE;;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,KAA9B;AAEA,YAAM;AAAED,QAAAA,OAAF;AAAWD,QAAAA,MAAX;AAAmBS,QAAAA;AAAnB,UAAgCN,IAAtC;AACA,aAAO;AACLJ,QAAAA,eAAe,EAAE,IADZ;AAELC,QAAAA,MAFK;AAGLC,QAAAA,OAHK;AAILC,QAAAA,KAJK;AAKLC,QAAAA,IAAI,EAAEM;AALD,OAAP;;AAOF,SAAKd,cAAL;AACE,YAAM;AAAEe,QAAAA;AAAF,UAAcL,MAApB;AACA,aAAO,EACL,GAAGD,KADE;AAELD,QAAAA,IAAI,EAAE,EACJ,GAAGC,KAAK,CAACD,IADL;AAEJ,aAAGO;AAFC;AAFD,OAAP;;AAOF,SAAKd,iBAAL;AACE,aAAO,EACL,GAAGQ,KADE;AAELD,QAAAA,IAAI,EAAE,EACJ,GAAGC,KAAK,CAACD,IADL;AAEJQ,UAAAA,QAAQ,EAAEN,MAAM,CAACM;AAFb;AAFD,OAAP;;AAOF,SAAKjB,cAAL;AACE;AACAG,MAAAA,YAAY,CAAC,KAAD,CAAZ,CAFF,CAIE;;AACAU,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACA,aAAOd,YAAP;;AACF;AACE,aAAOM,KAAP;AAxCJ;AA0CD","sourcesContent":["import {\n  AUTHENTICATE,\n  UNAUTHENTICATE,\n  EDIT_USER_INFO,\n  GET_GITHUB_AVATAR,\n  //   AUTHENTICATE_TEACHER,\n} from \"../actions/types\";\nimport setAuthToken from \"../../utils/setAuthToken\";\n\nconst initialState = {\n  isAuthenticated: false,\n  isUser: false,\n  isAdmin: false,\n  token: null,\n  user: {},\n};\n\nexport default function (state = initialState, action) {\n  const { type, user, token } = action;\n  switch (type) {\n    case AUTHENTICATE:\n      //Set Token to Auth header\n      setAuthToken(token);\n      //Save Token to Local Storage\n      localStorage.setItem(\"token\", token);\n\n      const { isAdmin, isUser, userInfo } = user;\n      return {\n        isAuthenticated: true,\n        isUser,\n        isAdmin,\n        token,\n        user: userInfo,\n      };\n    case EDIT_USER_INFO:\n      const { newUser } = action;\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          ...newUser,\n        },\n      };\n    case GET_GITHUB_AVATAR:\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          imageUrl: action.imageUrl,\n        },\n      };\n    case UNAUTHENTICATE:\n      // Remove Token in Auth header\n      setAuthToken(false);\n\n      // Remove token from local storage\n      localStorage.removeItem(\"token\");\n      return initialState;\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}