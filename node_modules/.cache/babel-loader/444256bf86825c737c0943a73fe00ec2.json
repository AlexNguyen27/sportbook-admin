{"ast":null,"code":"var _jsxFileName = \"/home/thanh/booking-sport/sportbook-admin/src/components/pages/post/component/AddPost.js\";\nimport React, { useState, Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PageTitle from \"../../../custom/PageTitle\";\nimport TextEditor from \"../../../custom/TextEditor\";\nimport Button from \"@material-ui/core/Button\";\nimport { Row } from \"reactstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\nimport DropdownV2 from \"../../../custom/DropdownV2\";\nimport { addNewPost } from \"../../../../store/actions/post\";\nimport { getCategories } from \"../../../../store/actions/category\";\nimport { POST_STATUS_ARRAY } from \"../../../../utils/common\";\nconst blogData1 = {\n  textBody: \"body\",\n  pageId: \"1\",\n  pageName: \"Enter your title\"\n};\nconst status = [{\n  id: 0,\n  name: \"Private\",\n  value: \"private\"\n}, {\n  id: 1,\n  name: \"Public\",\n  value: \"public\"\n}];\n\nconst AddPost = ({\n  preDefinedPageContents,\n  categories,\n  addNewPost\n}) => {\n  const history = useHistory(); // IF THERE IS PRE-DEFINED PAGE CONTENTS, INITIALIZE BLOG DATA WITH IT\n\n  const [blogData, setBlogData] = useState(preDefinedPageContents || blogData1); // DESTRUCTURE BLOG DATA\n\n  const {\n    textBody,\n    pageId,\n    pageName\n  } = blogData || {};\n  const categoryArr = Object.keys(categories).map(key => categories[key]); // status: 0: private, 1: public\n\n  const [selectedDropdownData, setSelectedDropdownData] = useState({\n    selectedCategoryIndex: categoryArr[0].id,\n    selectedStatusIndex: \"public\"\n  });\n  const {\n    selectedCategoryIndex,\n    selectedStatusIndex\n  } = selectedDropdownData; // HANDLE CHANGE IN TEXT EDITOR\n\n  const onChangeEditor = textBody => {\n    setBlogData({ ...blogData,\n      textBody\n    }); // updateBlog(pageId, textBody);\n  }; // HANDLE PAGE TITLE INPUT\n\n\n  const onEnterPageName = e => {\n    setBlogData({ ...blogData,\n      pageName: e.target.value\n    });\n  };\n\n  const onSelectCategory = selectedCategoryIndex => {\n    setSelectedDropdownData({ ...selectedDropdownData,\n      selectedCategoryIndex\n    });\n  };\n\n  const onSelectStatus = selectedStatusIndex => {\n    setSelectedDropdownData({ ...selectedDropdownData,\n      selectedStatusIndex\n    });\n  };\n\n  const handleOnSubmit = () => {\n    // console.log(\"blogData\", blogData);\n    // console.log(selectedDropdownData);\n    addNewPost(textBody, pageName, selectedCategoryIndex, selectedStatusIndex, history);\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    title: pageName,\n    onChange: onEnterPageName,\n    center: \"true\",\n    editMode: \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DropdownV2, {\n    fullWidth: true,\n    label: \"Category\",\n    value: selectedCategoryIndex.toString(),\n    options: categoryArr || [],\n    valueBasedOnProperty: \"id\",\n    displayProperty: \"name\",\n    onChange: categoryIndex => onSelectCategory(categoryIndex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DropdownV2, {\n    fullWidth: true,\n    label: \"Status\",\n    value: selectedStatusIndex.toString(),\n    options: POST_STATUS_ARRAY || [],\n    valueBasedOnProperty: \"name\",\n    displayProperty: \"value\",\n    onChange: statusIndex => onSelectStatus(statusIndex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextEditor, {\n    className: \"blog editMode\",\n    value: textBody,\n    onChange: onChangeEditor,\n    placeholder: \"Enter text here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    style: {},\n    onClick: () => handleOnSubmit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n};\n\nconst mapStateToProps = state => ({\n  categories: state.category.categories //   preDefinedPageContents: state.edit_view_page.page_contents[0]\n\n});\n\nexport default connect(mapStateToProps, {\n  addNewPost\n})(AddPost);","map":{"version":3,"sources":["/home/thanh/booking-sport/sportbook-admin/src/components/pages/post/component/AddPost.js"],"names":["React","useState","Fragment","useEffect","connect","PageTitle","TextEditor","Button","Row","useHistory","Grid","DropdownV2","addNewPost","getCategories","POST_STATUS_ARRAY","blogData1","textBody","pageId","pageName","status","id","name","value","AddPost","preDefinedPageContents","categories","history","blogData","setBlogData","categoryArr","Object","keys","map","key","selectedDropdownData","setSelectedDropdownData","selectedCategoryIndex","selectedStatusIndex","onChangeEditor","onEnterPageName","e","target","onSelectCategory","onSelectStatus","handleOnSubmit","toString","categoryIndex","statusIndex","mapStateToProps","state","category"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport PageTitle from \"../../../custom/PageTitle\";\nimport TextEditor from \"../../../custom/TextEditor\";\nimport Button from \"@material-ui/core/Button\";\nimport { Row } from \"reactstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\nimport DropdownV2 from \"../../../custom/DropdownV2\";\nimport { addNewPost } from \"../../../../store/actions/post\";\nimport { getCategories } from \"../../../../store/actions/category\";\nimport { POST_STATUS_ARRAY } from \"../../../../utils/common\";\n\nconst blogData1 = {\n  textBody: \"body\",\n  pageId: \"1\",\n  pageName: \"Enter your title\",\n};\n\nconst status = [\n  { id: 0, name: \"Private\", value: \"private\" },\n  { id: 1, name: \"Public\", value: \"public\" },\n];\n\nconst AddPost = ({ preDefinedPageContents, categories, addNewPost }) => {\n  const history = useHistory();\n  // IF THERE IS PRE-DEFINED PAGE CONTENTS, INITIALIZE BLOG DATA WITH IT\n  const [blogData, setBlogData] = useState(preDefinedPageContents || blogData1);\n  // DESTRUCTURE BLOG DATA\n  const { textBody, pageId, pageName } = blogData || {};\n\n  const categoryArr = Object.keys(categories).map((key) => categories[key]);\n\n  // status: 0: private, 1: public\n  const [selectedDropdownData, setSelectedDropdownData] = useState({\n    selectedCategoryIndex: categoryArr[0].id,\n    selectedStatusIndex: \"public\",\n  });\n\n  const { selectedCategoryIndex, selectedStatusIndex } = selectedDropdownData;\n\n  // HANDLE CHANGE IN TEXT EDITOR\n  const onChangeEditor = (textBody) => {\n    setBlogData({\n      ...blogData,\n      textBody,\n    });\n    // updateBlog(pageId, textBody);\n  };\n\n  // HANDLE PAGE TITLE INPUT\n  const onEnterPageName = (e) => {\n    setBlogData({\n      ...blogData,\n      pageName: e.target.value,\n    });\n  };\n\n  const onSelectCategory = (selectedCategoryIndex) => {\n    setSelectedDropdownData({\n      ...selectedDropdownData,\n      selectedCategoryIndex,\n    });\n  };\n\n  const onSelectStatus = (selectedStatusIndex) => {\n    setSelectedDropdownData({\n      ...selectedDropdownData,\n      selectedStatusIndex,\n    });\n  };\n\n  const handleOnSubmit = () => {\n    // console.log(\"blogData\", blogData);\n    // console.log(selectedDropdownData);\n    addNewPost(\n      textBody,\n      pageName,\n      selectedCategoryIndex,\n      selectedStatusIndex,\n      history\n    );\n  };\n\n  return (\n    <Fragment>\n      <PageTitle\n        title={pageName}\n        onChange={onEnterPageName}\n        center=\"true\"\n        editMode=\"true\"\n      />\n      <Grid container justify=\"flex-end\">\n        <Grid item xs={4}>\n          <DropdownV2\n            fullWidth\n            label=\"Category\"\n            value={selectedCategoryIndex.toString()}\n            options={categoryArr || []}\n            valueBasedOnProperty=\"id\"\n            displayProperty=\"name\"\n            onChange={(categoryIndex) => onSelectCategory(categoryIndex)}\n          />\n        </Grid>\n      </Grid>\n      <Grid container justify=\"flex-end\">\n        <Grid item xs={2} className=\"mt-2\">\n          <DropdownV2\n            fullWidth\n            label=\"Status\"\n            value={selectedStatusIndex.toString()}\n            options={POST_STATUS_ARRAY || []}\n            valueBasedOnProperty=\"name\"\n            displayProperty=\"value\"\n            onChange={(statusIndex) => onSelectStatus(statusIndex)}\n          />\n        </Grid>\n      </Grid>\n\n      <hr className=\"mb-0\" />\n      <TextEditor\n        className=\"blog editMode\"\n        value={textBody}\n        onChange={onChangeEditor}\n        placeholder=\"Enter text here\"\n      />\n      <Grid container justify=\"center\" className=\"mt-4\">\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          style={{}}\n          onClick={() => handleOnSubmit()}\n        >\n          Submit\n        </Button>\n      </Grid>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  categories: state.category.categories,\n  //   preDefinedPageContents: state.edit_view_page.page_contents[0]\n});\nexport default connect(mapStateToProps, { addNewPost })(AddPost);\n"]},"metadata":{},"sourceType":"module"}